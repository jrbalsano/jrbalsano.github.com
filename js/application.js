// Generated by CoffeeScript 1.4.0
(function() {

  $(document).ready(function() {
    var fraction, initialOffset, scrollDistance, toTop, win;
    win = $(window);
    scrollDistance = $(".page").width();
    initialOffset = parseInt($(".title-bar").css('top'));
    toTop = initialOffset - 150;
    fraction = toTop / scrollDistance;
    win.resize(function() {
      scrollDistance = $(".page").width();
      initialOffset = parseInt($(".title-bar").css('top'));
      toTop = initialOffset - 150;
      return fraction = toTop / scrollDistance;
    });
    return $(window).scroll(function(e) {
      var left, top;
      left = win.scrollLeft();
      top = win.scrollTop();
      if (top !== 0) {
        win.scrollLeft(left + top);
      }
      if (left < scrollDistance) {
        return $(".title-bar").css('top', (initialOffset - left * fraction) + 'px');
      } else {
        return $(".title-bar").css('top', (initialOffset - toTop) + 'px');
      }
    });
  });

}).call(this);
